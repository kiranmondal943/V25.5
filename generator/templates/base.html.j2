<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ page_title | default('Home') }} | {{ biz_name }}</title>
  <meta name="description" content="{{ seo_d | default('') }}" />
  {% if gsc_tag_input %}<meta name="google-site-verification" content="{{ gsc_tag_input }}">{% endif %}
  <link rel="canonical" href="{{ prod_url }}" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{ --p: {{ p_color }}; --s: {{ s_color }}; --radius: {{ border_rad }}; }
    body{ font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; margin:0; color:#0f172a; background:#fff; }
    .container{ max-width:1200px; margin:0 auto; padding:28px; }
    .hero{ padding:64px 0; text-align:center; background:#f8fafc; border-bottom:1px solid #f1f5f9; }
    .btn{ background:var(--s); color:#fff; padding:12px 20px; border-radius:12px; text-decoration:none; font-weight:800; display:inline-block; }
    .grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:18px; }
    .card{ background:#fff; border-radius:14px; padding:18px; box-shadow:0 12px 30px rgba(16,24,40,0.04); }
    .product-card img{ width:100%; height:220px; object-fit:cover; border-radius:10px; }
    #modal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); align-items:center; justify-content:center; padding:18px; z-index:9999; }
    .modal-inner{ background:#fff; border-radius:14px; padding:20px; max-width:900px; width:100%; }
    footer{ background:#0f172a; color:#fff; padding:40px 0; margin-top:40px; }
    .footer-link{ color:#cfeff4; text-decoration:none; font-weight:700; margin-right:12px; }
    @media (max-width:720px){ .hero{ padding:40px 16px } }
  </style>
  {% block head_extra %}{% endblock %}
</head>
<body>
  <nav style="background:#fff; border-bottom:1px solid #f1f5f9; padding:12px 0;">
    <div class="container" style="display:flex; align-items:center; justify-content:space-between;">
      <div style="display:flex; align-items:center; gap:12px;">
        {% if biz_logo %}
          <img src="{{ biz_logo }}" alt="{{ biz_name }}" style="height:48px; object-fit:contain;" />
        {% else %}
          <div style="font-weight:900; font-size:20px; color:var(--p);">{{ biz_name }}</div>
        {% endif %}
      </div>
      <div style="display:flex; align-items:center; gap:16px;">
        <div style="color:#64748b; font-weight:700;">{{ biz_phone }}</div>
      </div>
    </div>
  </nav>

  {% block body %}{% endblock %}

  <div id="modal" onclick="if(event.target==this) this.style.display='none'">
    <div class="modal-inner">
      <div id="m-body"></div>
      <div style="text-align:right; margin-top:16px;"><button onclick="document.getElementById('modal').style.display='none'" style="padding:8px 12px; border-radius:8px; background:#f1f5f9; border:none;">Close</button></div>
    </div>
  </div>

  <footer>
    <div class="container" style="display:flex; justify-content:space-between; align-items:flex-start; gap:24px; flex-wrap:wrap;">
      <div>
        <h3 style="margin:0 0 8px 0;">{{ biz_name }}</h3>
        <div style="max-width:420px; color:#cbd5e1;">{{ biz_addr }}</div>
      </div>
      <div>
        <div style="margin-bottom:12px;">
          <a class="footer-link" href="#" onclick="openFooterPage('privacy')">Privacy Policy</a>
          <a class="footer-link" href="#" onclick="openFooterPage('terms')">Terms & Conditions</a>
        </div>
        <div style="opacity:0.85;">Direct Connect: <strong>{{ biz_phone }}</strong></div>
        <div style="margin-top:18px; font-size:12px; opacity:0.8;">Architected By <a href="https://www.kaydiemscriptlab.com/" style="color:#9ee7f0; text-decoration:none; font-weight:800;">Kaydiem Script Lab</a></div>
      </div>
    </div>
  </footer>

  <script>
    const privacyHtml = `{{ privacy_html | replace("\n","\\n") | replace("`","\\`") }}`;
    const termsHtml = `{{ terms_html | replace("\n","\\n") | replace("`","\\`") }}`;

    function openFooterPage(which){
      const modal = document.getElementById('modal');
      const mbody = document.getElementById('m-body');
      if(which === 'privacy'){
        mbody.innerHTML = '<h2>Privacy Policy</h2>' + privacyHtml;
      } else {
        mbody.innerHTML = '<h2>Terms & Conditions</h2>' + termsHtml;
      }
      modal.style.display = 'flex';
      window.scrollTo(0,0);
    }
  </script>
</body>
</html>
